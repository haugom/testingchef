CHEF_IMAGE_NAME=chef-client

function chef-client() {
  dockerrun chef-client $@
}

function chef() {
  dockerrun chef $@
}

function kitchen() {
  dockerrun kitchen $@
}

function delivery() {
  dockerrun delivery $@
}

function berks() {
  dockerrun berks $@
}

function inspec() {
  dockerrun inspec $@
}

function dockerrun() {
  CMD=$1
  shift
  docker run \
    -it \
    --rm \
    -u $UID:$UID \
    -v `pwd`:/workdir \
    --workdir /workdir \
    --entrypoint $CMD \
    $CHEF_IMAGE_NAME \
    "$@"
}
